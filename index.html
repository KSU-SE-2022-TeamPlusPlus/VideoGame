<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Video Game</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js"></script>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
		<h3>Video Game</h3>
		<pre id="errContainer" style="display: none;">~~ Errors ~~<code id="err">None yet.</code>~~~~~~~~~~~~</pre>
		<pre id="p5_loading">Loading sketch...</pre>
		<script>
			(function() {
				let errorContainer = document.getElementById("errContainer");
				let errorOutput = document.getElementById("err");
				let overwrite = true;
				function disableOverwrite() {
					errorContainer.classList.add("errored");
					overwrite = false;
				}
				function logToHTMLErrors(msg = "[Uhhhh]") {
					errorContainer.style.display = "block";
					if (overwrite) { errorOutput.textContent = msg; disableOverwrite() }
					else { errorOutput.textContent += "\n" + msg; }
				}
				window.addEventListener("error", e=>{
					let msg = `${e.filename.slice(e.filename.lastIndexOf("/"))} @${e.lineno}: ${e.message}`;
					logToHTMLErrors(msg);
				});
			})();
		</script>
		<script src="timer.js"></script>
		<script src="sketch.js"></script>
	</body>
</html>
